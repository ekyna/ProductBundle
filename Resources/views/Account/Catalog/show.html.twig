{% extends '@EkynaCommerce/Account/layout.html.twig' %}

{% block account %}
{% apply spaceless %}

    <h3>{{ 'account.catalog.show'|trans({}, 'EkynaProduct')|trans }}</h3>
    <hr>

    <dl class="dl-horizontal catalog-detail">
        <dt>{{ 'field.title'|trans({}, 'EkynaUi') }}</dt>
        <dd>
            {{- catalog.title -}}
        </dd>
        <dt>{{ 'field.description'|trans({}, 'EkynaUi') }}</dt>
        <dd>
            {% if catalog.description is not empty -%}
                {{ catalog.description|raw }}
            {%- else -%}
                <em>{{ 'value.undefined'|trans({}, 'EkynaUi') }}</em>
            {%- endif %}
        </dd>
        {% for page in catalog.pages -%}
        <dt>Page {{ loop.index }}</dt>
        <dd>
            <ul class="list-unstyled catalog-page">
                {% for slot in page.slots -%}
                <li>
                    <a href="{{ slot.product|subject_public_url }}">
                        {{- slot.product -}}
                    </a>
                </li>
                {%- endfor %}
            </ul>
        </dd>
        {%- endfor %}
    </dl>

    <hr>

    <p class="text-center">
        <a href="{{ path('ekyna_product_account_catalog_print', {'catalogId': catalog.id}) }}"
           class="btn btn-sm btn-primary">
            {{- 'account.catalog.print.title'|trans({}, 'EkynaProduct')|trans -}}
        </a>&nbsp;
        <a href="{{ path('ekyna_product_account_catalog_edit', {'catalogId': catalog.id}) }}"
           class="btn btn-sm btn-warning">
            {{- 'account.catalog.edit.title'|trans({}, 'EkynaProduct')|trans -}}
        </a>&nbsp;
        <a href="{{ path('ekyna_product_account_catalog_remove', {'catalogId': catalog.id}) }}"
           class="btn btn-sm btn-danger">
            {{- 'account.catalog.remove.title'|trans({}, 'EkynaProduct')|trans -}}
        </a>
    </p>

    <p class="text-center">
        <a href="{{ path('ekyna_product_account_catalog_create') }}" class="btn btn-sm btn-primary">
            {{- 'account.catalog.new.title'|trans({}, 'EkynaProduct')|trans -}}
        </a>
    </p>

    <br><br>

    <h3>{{ 'account.catalog.title'|trans({}, 'EkynaProduct')|trans|raw }}</h3>
    <hr>
    {%- include '@EkynaProduct/Account/Catalog/_list.html.twig' with {
        'catalogs': catalogs, 'customer': customer
    } only -%}

{% endapply %}
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ absolute_url(asset('bundles/ekynaproduct/css/account/catalog.css')) }}" rel="stylesheet" type="text/css"/>
{% endblock %}
